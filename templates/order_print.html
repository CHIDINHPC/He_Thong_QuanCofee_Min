<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>In Hóa Đơn #{{ order.id }}</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 30px; }
    h2 { text-align: center; }
    table { width: 100%; border-collapse: collapse; margin-top: 15px; }
    table, th, td { border: 1px solid black; }
    th, td { padding: 8px; text-align: center; }
    .total { text-align: right; margin-top: 10px; font-size: 18px; font-weight: bold; }
  </style>
</head>
<body onload="window.print()">
  <h2>☕ Coffee Min</h2>
  <p><b>Hóa đơn #{{ order.id }}</b></p>
  <p>Bàn: {{ order.table_name }}</p>
  <p>Nhân viên: {{ order.full_name }}</p>
  <p>Ngày: {{ order.created_at }}</p>

  <table>
    <tr>
      <th>Sản phẩm</th>
      <th>Số lượng</th>
      <th>Đơn giá</th>
      <th>Thành tiền</th>
    </tr>
    {% for item in items %}
    <tr>
      <td>{{ item.name }}</td>
      <td>{{ item.quantity }}</td>
      <td>{{ "{:,.0f}".format(item.price) if item.price is not none else "0" }}đ</td>
      <td>{{ "{:,.0f}".format(item.subtotal) if item.subtotal is not none else "0" }}đ</td>
    </tr>
    {% endfor %}
  </table>

  <p class="total">Tổng cộng: {{ "{:,.0f}".format(order.total) if order.total is not none else "0" }}đ</p>
  <p style="text-align: center;">Cảm ơn quý khách đã sử dụng dịch vụ của chúng tôi!</p>
</body>
</html>
